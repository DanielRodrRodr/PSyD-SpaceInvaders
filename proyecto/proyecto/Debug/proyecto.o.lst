   1              		.cpu arm7tdmi
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 18, 4
  11              		.file	"proyecto.c"
  21              	.Ltext0:
  22              		.file 1 "../proyecto.c"
 2521              		.align	2
 2522              		.global	main
 2524              	main:
 2525              	.LFB0:
   1:../proyecto.c **** #include <s3c44b0x.h>
   2:../proyecto.c **** #include <s3cev40.h>
   3:../proyecto.c **** #include <common_types.h>
   4:../proyecto.c **** #include <system.h>
   5:../proyecto.c **** #include <segs.h>
   6:../proyecto.c **** #include <pbs.h>
   7:../proyecto.c **** #include <keypad.h>
   8:../proyecto.c **** #include <timers.h>
   9:../proyecto.c **** #include <lcd.h>
  10:../proyecto.c **** #include <iic.h>
  11:../proyecto.c **** #include <uda1341ts.h>
  12:../proyecto.c **** #include <iis.h>
  13:../proyecto.c **** 
  14:../proyecto.c **** #include "config.h"
  15:../proyecto.c **** #include "random.h"
  16:../proyecto.c **** #include "pixmaps.h"
  17:../proyecto.c **** #include "game.h"
  18:../proyecto.c **** #include "player.h"
  19:../proyecto.c **** #include "playerShot.h"
  20:../proyecto.c **** #include "swarm.h"
  21:../proyecto.c **** #include "enemyShot.h"
  22:../proyecto.c **** #include "ufo.h"
  23:../proyecto.c **** 
  24:../proyecto.c **** #include "kernelcoop.h"
  25:../proyecto.c **** 
  26:../proyecto.c **** /////////////////////////////////////////////////////////////////////////////
  27:../proyecto.c **** // Declaración de tareas
  28:../proyecto.c **** /////////////////////////////////////////////////////////////////////////////
  29:../proyecto.c **** 
  30:../proyecto.c **** void player_update_task(void);
  31:../proyecto.c **** void playerShot_update_task(void);
  32:../proyecto.c **** void swarm_update_task(void);
  33:../proyecto.c **** void enemyShot_launch_task(void);
  34:../proyecto.c **** void enemyShot_update_task(void);
  35:../proyecto.c **** void ufo_launch_task(void);
  36:../proyecto.c **** void ufo_update_task(void);
  37:../proyecto.c **** void keys_read_task(void);
  38:../proyecto.c **** void pbs_read_task(void);
  39:../proyecto.c **** 
  40:../proyecto.c **** /////////////////////////////////////////////////////////////////////////////
  41:../proyecto.c **** // Declaración de otras funciones
  42:../proyecto.c **** /////////////////////////////////////////////////////////////////////////////
  43:../proyecto.c **** 
  44:../proyecto.c **** void wellcomeScreen_draw(void);
  45:../proyecto.c **** void gameOverScreen_draw(void);
  46:../proyecto.c **** 
  47:../proyecto.c **** // Instancia global del juego
  48:../proyecto.c **** Game game;
  49:../proyecto.c **** 
  50:../proyecto.c **** void main(void) {
 2526              		.loc 1 50 0
 2527              		.cfi_startproc
 2528              		@ Function supports interworking.
 2529              		@ args = 0, pretend = 0, frame = 0
 2530              		@ frame_needed = 1, uses_anonymous_args = 0
 2531 0000 0DC0A0E1 		mov	ip, sp
 2532              	.LCFI0:
 2533              		.cfi_def_cfa_register 12
 2534 0004 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2535 0008 04B04CE2 		sub	fp, ip, #4
 2536              		.cfi_offset 14, -8
 2537              		.cfi_offset 13, -12
 2538              		.cfi_offset 11, -16
 2539              	.LCFI1:
 2540              		.cfi_def_cfa 11, 4
  51:../proyecto.c **** 	sys_init(); /* Inicializa el sistema */
 2541              		.loc 1 51 0
 2542 000c FEFFFFEB 		bl	sys_init
  52:../proyecto.c **** 	segs_init();
 2543              		.loc 1 52 0
 2544 0010 FEFFFFEB 		bl	segs_init
  53:../proyecto.c **** 	timers_init();
 2545              		.loc 1 53 0
 2546 0014 FEFFFFEB 		bl	timers_init
  54:../proyecto.c **** 	keypad_init();
 2547              		.loc 1 54 0
 2548 0018 FEFFFFEB 		bl	keypad_init
  55:../proyecto.c **** 	pbs_init();
 2549              		.loc 1 55 0
 2550 001c FEFFFFEB 		bl	pbs_init
  56:../proyecto.c **** 	lcd_init();
 2551              		.loc 1 56 0
 2552 0020 FEFFFFEB 		bl	lcd_init
  57:../proyecto.c **** 	iic_init();
 2553              		.loc 1 57 0
 2554 0024 FEFFFFEB 		bl	iic_init
  58:../proyecto.c **** 	uda1341ts_init();
 2555              		.loc 1 58 0
 2556 0028 FEFFFFEB 		bl	uda1341ts_init
  59:../proyecto.c **** 	//iis_init(IIS_DMA);
  60:../proyecto.c **** 
  61:../proyecto.c **** 	lcd_on();
 2557              		.loc 1 61 0
 2558 002c FEFFFFEB 		bl	lcd_on
  62:../proyecto.c **** 
  63:../proyecto.c **** 	random_init((BCDSEC << 16) | (BCDMIN << 8) | BCDHOUR ); /* Semilla aleatoria */
 2559              		.loc 1 63 0
 2560 0030 BC319FE5 		ldr	r3, .L8
 2561 0034 003093E5 		ldr	r3, [r3, #0]
 2562 0038 0328A0E1 		mov	r2, r3, asl #16
 2563 003c B4319FE5 		ldr	r3, .L8+4
 2564 0040 003093E5 		ldr	r3, [r3, #0]
 2565 0044 0334A0E1 		mov	r3, r3, asl #8
 2566 0048 032082E1 		orr	r2, r2, r3
 2567 004c A8319FE5 		ldr	r3, .L8+8
 2568 0050 003093E5 		ldr	r3, [r3, #0]
 2569 0054 033082E1 		orr	r3, r2, r3
 2570 0058 0300A0E1 		mov	r0, r3
 2571 005c FEFFFFEB 		bl	random_init
  64:../proyecto.c **** 	game_init(&game); /* Inicializa el juego */
 2572              		.loc 1 64 0
 2573 0060 98019FE5 		ldr	r0, .L8+12
 2574 0064 FEFFFFEB 		bl	game_init
  65:../proyecto.c **** 
  66:../proyecto.c **** 	scheduler_init(); /* Inicializa el kernel */
 2575              		.loc 1 66 0
 2576 0068 FEFFFFEB 		bl	scheduler_init
  67:../proyecto.c **** 
  68:../proyecto.c **** 	// ------------------------------------------------------------------------
  69:../proyecto.c **** 	// CREACION DE TAREAS
  70:../proyecto.c **** 	// ------------------------------------------------------------------------
  71:../proyecto.c **** 	create_task(keys_read_task, KEYS_READ_PERIOD / TICK_PERIOD);
 2577              		.loc 1 71 0
 2578 006c 90019FE5 		ldr	r0, .L8+16
 2579 0070 0510A0E3 		mov	r1, #5
 2580 0074 FEFFFFEB 		bl	create_task
  72:../proyecto.c **** 	create_task(pbs_read_task, PBS_READ_PERIOD / TICK_PERIOD);
 2581              		.loc 1 72 0
 2582 0078 88019FE5 		ldr	r0, .L8+20
 2583 007c 0310A0E3 		mov	r1, #3
 2584 0080 FEFFFFEB 		bl	create_task
  73:../proyecto.c **** 
  74:../proyecto.c **** 	create_task(player_update_task, PLAYER_UPDATE_PERIOD / TICK_PERIOD);
 2585              		.loc 1 74 0
 2586 0084 80019FE5 		ldr	r0, .L8+24
 2587 0088 0210A0E3 		mov	r1, #2
 2588 008c FEFFFFEB 		bl	create_task
  75:../proyecto.c **** 	create_task(playerShot_update_task, PLAYERSHOT_UPDATE_PERIOD / TICK_PERIOD);
 2589              		.loc 1 75 0
 2590 0090 78019FE5 		ldr	r0, .L8+28
 2591 0094 0510A0E3 		mov	r1, #5
 2592 0098 FEFFFFEB 		bl	create_task
  76:../proyecto.c **** 	create_task(swarm_update_task, SWARM_UPDATE_PERIOD / TICK_PERIOD);
 2593              		.loc 1 76 0
 2594 009c 70019FE5 		ldr	r0, .L8+32
 2595 00a0 0210A0E3 		mov	r1, #2
 2596 00a4 FEFFFFEB 		bl	create_task
  77:../proyecto.c **** 	create_task(enemyShot_launch_task, ENEMYSHOT_LAUNCH_PERIOD / TICK_PERIOD);
 2597              		.loc 1 77 0
 2598 00a8 68019FE5 		ldr	r0, .L8+36
 2599 00ac C810A0E3 		mov	r1, #200
 2600 00b0 FEFFFFEB 		bl	create_task
  78:../proyecto.c **** 	create_task(enemyShot_update_task, ENEMYSHOT_UPDATE_PERIOD / TICK_PERIOD);
 2601              		.loc 1 78 0
 2602 00b4 60019FE5 		ldr	r0, .L8+40
 2603 00b8 0510A0E3 		mov	r1, #5
 2604 00bc FEFFFFEB 		bl	create_task
  79:../proyecto.c **** 	create_task(ufo_launch_task, UFO_LAUNCH_PERIOD / TICK_PERIOD);
 2605              		.loc 1 79 0
 2606 00c0 58019FE5 		ldr	r0, .L8+44
 2607 00c4 7D1EA0E3 		mov	r1, #2000
 2608 00c8 FEFFFFEB 		bl	create_task
  80:../proyecto.c **** 	create_task(ufo_update_task, UFO_UPDATE_PERIOD / TICK_PERIOD);
 2609              		.loc 1 80 0
 2610 00cc 50019FE5 		ldr	r0, .L8+48
 2611 00d0 1410A0E3 		mov	r1, #20
 2612 00d4 FEFFFFEB 		bl	create_task
 2613              	.L7:
  81:../proyecto.c **** 
  82:../proyecto.c **** 	while (1) {
  83:../proyecto.c **** 		wellcomeScreen_draw();
 2614              		.loc 1 83 0
 2615 00d8 FEFFFFEB 		bl	wellcomeScreen_draw
  84:../proyecto.c **** 
  85:../proyecto.c **** 		while (game.credit.value == 0) {
 2616              		.loc 1 85 0
 2617 00dc 120000EA 		b	.L2
 2618              	.L4:
  86:../proyecto.c **** 			if (pb_pressed()) {
 2619              		.loc 1 86 0
 2620 00e0 FEFFFFEB 		bl	pb_pressed
 2621 00e4 0030A0E1 		mov	r3, r0
 2622 00e8 000053E3 		cmp	r3, #0
 2623 00ec 0E00000A 		beq	.L2
  87:../proyecto.c **** 				while (pb_pressed())
 2624              		.loc 1 87 0
 2625 00f0 0000A0E1 		mov	r0, r0	@ nop
 2626              	.L3:
 2627              		.loc 1 87 0 is_stmt 0 discriminator 1
 2628 00f4 FEFFFFEB 		bl	pb_pressed
 2629 00f8 0030A0E1 		mov	r3, r0
 2630 00fc 000053E3 		cmp	r3, #0
 2631 0100 FBFFFF1A 		bne	.L3
  88:../proyecto.c **** 					;
  89:../proyecto.c **** 				credit_update(&game.credit, 1);
 2632              		.loc 1 89 0 is_stmt 1
 2633 0104 1C019FE5 		ldr	r0, .L8+52
 2634 0108 0110A0E3 		mov	r1, #1
 2635 010c FEFFFFEB 		bl	credit_update
  90:../proyecto.c **** 				lcd_putint(120, 80, BLACK, game.credit.value);
 2636              		.loc 1 90 0
 2637 0110 E8209FE5 		ldr	r2, .L8+12
 2638 0114 10319FE5 		ldr	r3, .L8+56
 2639 0118 B33092E1 		ldrh	r3, [r2, r3]
 2640 011c 7800A0E3 		mov	r0, #120
 2641 0120 5010A0E3 		mov	r1, #80
 2642 0124 0F20A0E3 		mov	r2, #15
 2643 0128 FEFFFFEB 		bl	lcd_putint
 2644              	.L2:
  85:../proyecto.c **** 		while (game.credit.value == 0) {
 2645              		.loc 1 85 0 discriminator 1
 2646 012c CC209FE5 		ldr	r2, .L8+12
 2647 0130 F4309FE5 		ldr	r3, .L8+56
 2648 0134 B33092E1 		ldrh	r3, [r2, r3]
 2649 0138 000053E3 		cmp	r3, #0
 2650 013c E7FFFF0A 		beq	.L4
  91:../proyecto.c **** 			}
  92:../proyecto.c **** 		}
  93:../proyecto.c **** 
  94:../proyecto.c **** 		lcd_clear();
 2651              		.loc 1 94 0
 2652 0140 FEFFFFEB 		bl	lcd_clear
  95:../proyecto.c **** 		game_restart(&game);
 2653              		.loc 1 95 0
 2654 0144 B4009FE5 		ldr	r0, .L8+12
 2655 0148 FEFFFFEB 		bl	game_restart
  96:../proyecto.c **** 		game_launch(&game);
 2656              		.loc 1 96 0
 2657 014c AC009FE5 		ldr	r0, .L8+12
 2658 0150 FEFFFFEB 		bl	game_launch
  97:../proyecto.c **** 
  98:../proyecto.c **** 		scheduler_init();
 2659              		.loc 1 98 0
 2660 0154 FEFFFFEB 		bl	scheduler_init
  99:../proyecto.c **** 		create_task(keys_read_task, KEYS_READ_PERIOD / TICK_PERIOD);
 2661              		.loc 1 99 0
 2662 0158 A4009FE5 		ldr	r0, .L8+16
 2663 015c 0510A0E3 		mov	r1, #5
 2664 0160 FEFFFFEB 		bl	create_task
 100:../proyecto.c **** 		create_task(pbs_read_task, PBS_READ_PERIOD / TICK_PERIOD);
 2665              		.loc 1 100 0
 2666 0164 9C009FE5 		ldr	r0, .L8+20
 2667 0168 0310A0E3 		mov	r1, #3
 2668 016c FEFFFFEB 		bl	create_task
 101:../proyecto.c **** 
 102:../proyecto.c **** 		create_task(player_update_task, PLAYER_UPDATE_PERIOD / TICK_PERIOD);
 2669              		.loc 1 102 0
 2670 0170 94009FE5 		ldr	r0, .L8+24
 2671 0174 0210A0E3 		mov	r1, #2
 2672 0178 FEFFFFEB 		bl	create_task
 103:../proyecto.c **** 		create_task(playerShot_update_task, PLAYERSHOT_UPDATE_PERIOD / TICK_PERIOD);
 2673              		.loc 1 103 0
 2674 017c 8C009FE5 		ldr	r0, .L8+28
 2675 0180 0510A0E3 		mov	r1, #5
 2676 0184 FEFFFFEB 		bl	create_task
 104:../proyecto.c **** 		create_task(swarm_update_task, SWARM_UPDATE_PERIOD / TICK_PERIOD);
 2677              		.loc 1 104 0
 2678 0188 84009FE5 		ldr	r0, .L8+32
 2679 018c 0210A0E3 		mov	r1, #2
 2680 0190 FEFFFFEB 		bl	create_task
 105:../proyecto.c **** 		create_task(enemyShot_launch_task, ENEMYSHOT_LAUNCH_PERIOD / TICK_PERIOD);
 2681              		.loc 1 105 0
 2682 0194 7C009FE5 		ldr	r0, .L8+36
 2683 0198 C810A0E3 		mov	r1, #200
 2684 019c FEFFFFEB 		bl	create_task
 106:../proyecto.c **** 		create_task(enemyShot_update_task, ENEMYSHOT_UPDATE_PERIOD / TICK_PERIOD);
 2685              		.loc 1 106 0
 2686 01a0 74009FE5 		ldr	r0, .L8+40
 2687 01a4 0510A0E3 		mov	r1, #5
 2688 01a8 FEFFFFEB 		bl	create_task
 107:../proyecto.c **** 		create_task(ufo_launch_task, UFO_LAUNCH_PERIOD / TICK_PERIOD);
 2689              		.loc 1 107 0
 2690 01ac 6C009FE5 		ldr	r0, .L8+44
 2691 01b0 7D1EA0E3 		mov	r1, #2000
 2692 01b4 FEFFFFEB 		bl	create_task
 108:../proyecto.c **** 		create_task(ufo_update_task, UFO_UPDATE_PERIOD / TICK_PERIOD);
 2693              		.loc 1 108 0
 2694 01b8 64009FE5 		ldr	r0, .L8+48
 2695 01bc 1410A0E3 		mov	r1, #20
 2696 01c0 FEFFFFEB 		bl	create_task
 109:../proyecto.c **** 
 110:../proyecto.c **** 		timer0_open_tick(scheduler, TICKS_PER_SEC); /* ARRANCA EL KERNEL */
 2697              		.loc 1 110 0
 2698 01c4 64009FE5 		ldr	r0, .L8+60
 2699 01c8 6410A0E3 		mov	r1, #100
 2700 01cc FEFFFFEB 		bl	timer0_open_tick
 111:../proyecto.c **** 
 112:../proyecto.c **** 		while (game.player.state != playerDead) {
 2701              		.loc 1 112 0
 2702 01d0 000000EA 		b	.L5
 2703              	.L6:
 113:../proyecto.c **** 			// sleep();
 114:../proyecto.c **** 			dispacher();
 2704              		.loc 1 114 0
 2705 01d4 FEFFFFEB 		bl	dispacher
 2706              	.L5:
 112:../proyecto.c **** 		while (game.player.state != playerDead) {
 2707              		.loc 1 112 0 discriminator 1
 2708 01d8 20309FE5 		ldr	r3, .L8+12
 2709 01dc 2830D3E5 		ldrb	r3, [r3, #40]	@ zero_extendqisi2
 2710 01e0 040053E3 		cmp	r3, #4
 2711 01e4 FAFFFF1A 		bne	.L6
 115:../proyecto.c **** 		}
 116:../proyecto.c **** 
 117:../proyecto.c **** 		timer0_close(); /* PARA EL KERNEL */
 2712              		.loc 1 117 0
 2713 01e8 FEFFFFEB 		bl	timer0_close
 118:../proyecto.c **** 
 119:../proyecto.c **** 		gameOverScreen_draw();
 2714              		.loc 1 119 0
 2715 01ec FEFFFFEB 		bl	gameOverScreen_draw
 120:../proyecto.c **** 		//game_restart(&game); /* Reinicia estructuras para la siguiente vez */
 121:../proyecto.c **** 	}
 2716              		.loc 1 121 0
 2717 01f0 B8FFFFEA 		b	.L7
 2718              	.L9:
 2719              		.align	2
 2720              	.L8:
 2721 01f4 7000D701 		.word	30867568
 2722 01f8 7400D701 		.word	30867572
 2723 01fc 7800D701 		.word	30867576
 2724 0200 00000000 		.word	game
 2725 0204 00000000 		.word	keys_read_task
 2726 0208 00000000 		.word	pbs_read_task
 2727 020c 00000000 		.word	player_update_task
 2728 0210 00000000 		.word	playerShot_update_task
 2729 0214 00000000 		.word	swarm_update_task
 2730 0218 00000000 		.word	enemyShot_launch_task
 2731 021c 00000000 		.word	enemyShot_update_task
 2732 0220 00000000 		.word	ufo_launch_task
 2733 0224 00000000 		.word	ufo_update_task
 2734 0228 CA040000 		.word	game+1226
 2735 022c CA040000 		.word	1226
 2736 0230 00000000 		.word	scheduler
 2737              		.cfi_endproc
 2738              	.LFE0:
 2740              		.align	2
 2741              		.global	player_update_task
 2743              	player_update_task:
 2744              	.LFB1:
 122:../proyecto.c **** }
 123:../proyecto.c **** 
 124:../proyecto.c **** /////////////////////////////////////////////////////////////////////////////
 125:../proyecto.c **** // IMPLEMENTACIÓN DE TAREAS
 126:../proyecto.c **** /////////////////////////////////////////////////////////////////////////////
 127:../proyecto.c **** 
 128:../proyecto.c **** void player_update_task(void) {
 2745              		.loc 1 128 0
 2746              		.cfi_startproc
 2747              		@ Function supports interworking.
 2748              		@ args = 0, pretend = 0, frame = 0
 2749              		@ frame_needed = 1, uses_anonymous_args = 0
 2750 0234 0DC0A0E1 		mov	ip, sp
 2751              	.LCFI2:
 2752              		.cfi_def_cfa_register 12
 2753 0238 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2754 023c 04B04CE2 		sub	fp, ip, #4
 2755              		.cfi_offset 14, -8
 2756              		.cfi_offset 13, -12
 2757              		.cfi_offset 11, -16
 2758              	.LCFI3:
 2759              		.cfi_def_cfa 11, 4
 129:../proyecto.c **** 	player_update(&game.player);
 2760              		.loc 1 129 0
 2761 0240 0C009FE5 		ldr	r0, .L11
 2762 0244 FEFFFFEB 		bl	player_update
 130:../proyecto.c **** }
 2763              		.loc 1 130 0
 2764 0248 0CD04BE2 		sub	sp, fp, #12
 2765 024c 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2766 0250 1EFF2FE1 		bx	lr
 2767              	.L12:
 2768              		.align	2
 2769              	.L11:
 2770 0254 28000000 		.word	game+40
 2771              		.cfi_endproc
 2772              	.LFE1:
 2774              		.align	2
 2775              		.global	ufo_launch_task
 2777              	ufo_launch_task:
 2778              	.LFB2:
 131:../proyecto.c **** 
 132:../proyecto.c **** void ufo_launch_task(void) {
 2779              		.loc 1 132 0
 2780              		.cfi_startproc
 2781              		@ Function supports interworking.
 2782              		@ args = 0, pretend = 0, frame = 0
 2783              		@ frame_needed = 1, uses_anonymous_args = 0
 2784 0258 0DC0A0E1 		mov	ip, sp
 2785              	.LCFI4:
 2786              		.cfi_def_cfa_register 12
 2787 025c 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2788 0260 04B04CE2 		sub	fp, ip, #4
 2789              		.cfi_offset 14, -8
 2790              		.cfi_offset 13, -12
 2791              		.cfi_offset 11, -16
 2792              	.LCFI5:
 2793              		.cfi_def_cfa 11, 4
 133:../proyecto.c **** 	if ((random_get() & 0xFF) < 10)
 2794              		.loc 1 133 0
 2795 0264 FEFFFFEB 		bl	random_get
 2796 0268 0030A0E1 		mov	r3, r0
 2797 026c FF3003E2 		and	r3, r3, #255
 2798 0270 090053E3 		cmp	r3, #9
 2799 0274 0100008A 		bhi	.L13
 134:../proyecto.c **** 		ufo_launch(&game.ufo);
 2800              		.loc 1 134 0
 2801 0278 0C009FE5 		ldr	r0, .L15
 2802 027c FEFFFFEB 		bl	ufo_launch
 2803              	.L13:
 135:../proyecto.c **** }
 2804              		.loc 1 135 0
 2805 0280 0CD04BE2 		sub	sp, fp, #12
 2806 0284 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2807 0288 1EFF2FE1 		bx	lr
 2808              	.L16:
 2809              		.align	2
 2810              	.L15:
 2811 028c A4040000 		.word	game+1188
 2812              		.cfi_endproc
 2813              	.LFE2:
 2815              		.align	2
 2816              		.global	ufo_update_task
 2818              	ufo_update_task:
 2819              	.LFB3:
 136:../proyecto.c **** 
 137:../proyecto.c **** void ufo_update_task(void) {
 2820              		.loc 1 137 0
 2821              		.cfi_startproc
 2822              		@ Function supports interworking.
 2823              		@ args = 0, pretend = 0, frame = 0
 2824              		@ frame_needed = 1, uses_anonymous_args = 0
 2825 0290 0DC0A0E1 		mov	ip, sp
 2826              	.LCFI6:
 2827              		.cfi_def_cfa_register 12
 2828 0294 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2829 0298 04B04CE2 		sub	fp, ip, #4
 2830              		.cfi_offset 14, -8
 2831              		.cfi_offset 13, -12
 2832              		.cfi_offset 11, -16
 2833              	.LCFI7:
 2834              		.cfi_def_cfa 11, 4
 138:../proyecto.c **** 	ufo_update(&game.ufo);
 2835              		.loc 1 138 0
 2836 029c 0C009FE5 		ldr	r0, .L18
 2837 02a0 FEFFFFEB 		bl	ufo_update
 139:../proyecto.c **** }
 2838              		.loc 1 139 0
 2839 02a4 0CD04BE2 		sub	sp, fp, #12
 2840 02a8 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2841 02ac 1EFF2FE1 		bx	lr
 2842              	.L19:
 2843              		.align	2
 2844              	.L18:
 2845 02b0 A4040000 		.word	game+1188
 2846              		.cfi_endproc
 2847              	.LFE3:
 2849              		.align	2
 2850              		.global	playerShot_update_task
 2852              	playerShot_update_task:
 2853              	.LFB4:
 140:../proyecto.c **** 
 141:../proyecto.c **** void playerShot_update_task(void) {
 2854              		.loc 1 141 0
 2855              		.cfi_startproc
 2856              		@ Function supports interworking.
 2857              		@ args = 0, pretend = 0, frame = 0
 2858              		@ frame_needed = 1, uses_anonymous_args = 0
 2859 02b4 0DC0A0E1 		mov	ip, sp
 2860              	.LCFI8:
 2861              		.cfi_def_cfa_register 12
 2862 02b8 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2863 02bc 04B04CE2 		sub	fp, ip, #4
 2864              		.cfi_offset 14, -8
 2865              		.cfi_offset 13, -12
 2866              		.cfi_offset 11, -16
 2867              	.LCFI9:
 2868              		.cfi_def_cfa 11, 4
 2869 02c0 08D04DE2 		sub	sp, sp, #8
 142:../proyecto.c **** 	// Pasa los punteros correctos: (Shot, Shields[], Swarm, EnemyShot, Ufo)
 143:../proyecto.c **** 	playerShot_update(&game.playerShot, game.shield, &game.swarm,
 2870              		.loc 1 143 0
 2871 02c4 20309FE5 		ldr	r3, .L21
 2872 02c8 00308DE5 		str	r3, [sp, #0]
 2873 02cc 1C009FE5 		ldr	r0, .L21+4
 2874 02d0 1C109FE5 		ldr	r1, .L21+8
 2875 02d4 1C209FE5 		ldr	r2, .L21+12
 2876 02d8 1C309FE5 		ldr	r3, .L21+16
 2877 02dc FEFFFFEB 		bl	playerShot_update
 144:../proyecto.c **** 			&game.enemyShot, &game.ufo);
 145:../proyecto.c **** }
 2878              		.loc 1 145 0
 2879 02e0 0CD04BE2 		sub	sp, fp, #12
 2880 02e4 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2881 02e8 1EFF2FE1 		bx	lr
 2882              	.L22:
 2883              		.align	2
 2884              	.L21:
 2885 02ec A4040000 		.word	game+1188
 2886 02f0 5C000000 		.word	game+92
 2887 02f4 04000000 		.word	game+4
 2888 02f8 7C000000 		.word	game+124
 2889 02fc 8C040000 		.word	game+1164
 2890              		.cfi_endproc
 2891              	.LFE4:
 2893              		.align	2
 2894              		.global	swarm_update_task
 2896              	swarm_update_task:
 2897              	.LFB5:
 146:../proyecto.c **** 
 147:../proyecto.c **** void swarm_update_task(void) {
 2898              		.loc 1 147 0
 2899              		.cfi_startproc
 2900              		@ Function supports interworking.
 2901              		@ args = 0, pretend = 0, frame = 0
 2902              		@ frame_needed = 1, uses_anonymous_args = 0
 2903 0300 0DC0A0E1 		mov	ip, sp
 2904              	.LCFI10:
 2905              		.cfi_def_cfa_register 12
 2906 0304 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2907 0308 04B04CE2 		sub	fp, ip, #4
 2908              		.cfi_offset 14, -8
 2909              		.cfi_offset 13, -12
 2910              		.cfi_offset 11, -16
 2911              	.LCFI11:
 2912              		.cfi_def_cfa 11, 4
 148:../proyecto.c **** 	swarm_update(&game.swarm, &game.player);
 2913              		.loc 1 148 0
 2914 030c 10009FE5 		ldr	r0, .L24
 2915 0310 10109FE5 		ldr	r1, .L24+4
 2916 0314 FEFFFFEB 		bl	swarm_update
 149:../proyecto.c **** }
 2917              		.loc 1 149 0
 2918 0318 0CD04BE2 		sub	sp, fp, #12
 2919 031c 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2920 0320 1EFF2FE1 		bx	lr
 2921              	.L25:
 2922              		.align	2
 2923              	.L24:
 2924 0324 7C000000 		.word	game+124
 2925 0328 28000000 		.word	game+40
 2926              		.cfi_endproc
 2927              	.LFE5:
 2929              		.align	2
 2930              		.global	enemyShot_update_task
 2932              	enemyShot_update_task:
 2933              	.LFB6:
 150:../proyecto.c **** 
 151:../proyecto.c **** void enemyShot_update_task(void) {
 2934              		.loc 1 151 0
 2935              		.cfi_startproc
 2936              		@ Function supports interworking.
 2937              		@ args = 0, pretend = 0, frame = 0
 2938              		@ frame_needed = 1, uses_anonymous_args = 0
 2939 032c 0DC0A0E1 		mov	ip, sp
 2940              	.LCFI12:
 2941              		.cfi_def_cfa_register 12
 2942 0330 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2943 0334 04B04CE2 		sub	fp, ip, #4
 2944              		.cfi_offset 14, -8
 2945              		.cfi_offset 13, -12
 2946              		.cfi_offset 11, -16
 2947              	.LCFI13:
 2948              		.cfi_def_cfa 11, 4
 152:../proyecto.c **** 	enemyShot_update(&game.enemyShot, game.shield, &game.player);
 2949              		.loc 1 152 0
 2950 0338 14009FE5 		ldr	r0, .L27
 2951 033c 14109FE5 		ldr	r1, .L27+4
 2952 0340 14209FE5 		ldr	r2, .L27+8
 2953 0344 FEFFFFEB 		bl	enemyShot_update
 153:../proyecto.c **** }
 2954              		.loc 1 153 0
 2955 0348 0CD04BE2 		sub	sp, fp, #12
 2956 034c 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2957 0350 1EFF2FE1 		bx	lr
 2958              	.L28:
 2959              		.align	2
 2960              	.L27:
 2961 0354 8C040000 		.word	game+1164
 2962 0358 04000000 		.word	game+4
 2963 035c 28000000 		.word	game+40
 2964              		.cfi_endproc
 2965              	.LFE6:
 2967              		.align	2
 2968              		.global	enemyShot_launch_task
 2970              	enemyShot_launch_task:
 2971              	.LFB7:
 154:../proyecto.c **** 
 155:../proyecto.c **** void enemyShot_launch_task(void) {
 2972              		.loc 1 155 0
 2973              		.cfi_startproc
 2974              		@ Function supports interworking.
 2975              		@ args = 0, pretend = 0, frame = 8
 2976              		@ frame_needed = 1, uses_anonymous_args = 0
 2977 0360 0DC0A0E1 		mov	ip, sp
 2978              	.LCFI14:
 2979              		.cfi_def_cfa_register 12
 2980 0364 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2981 0368 04B04CE2 		sub	fp, ip, #4
 2982              		.cfi_offset 14, -8
 2983              		.cfi_offset 13, -12
 2984              		.cfi_offset 11, -16
 2985              	.LCFI15:
 2986              		.cfi_def_cfa 11, 4
 2987 036c 08D04DE2 		sub	sp, sp, #8
 156:../proyecto.c **** 	Enemy *shooter;
 157:../proyecto.c **** 	uint16 shotCol, shotRow;
 158:../proyecto.c **** 
 159:../proyecto.c **** 	shooter = swarm_getShooter(&game.swarm);
 2988              		.loc 1 159 0
 2989 0370 64009FE5 		ldr	r0, .L31
 2990 0374 FEFFFFEB 		bl	swarm_getShooter
 2991 0378 10000BE5 		str	r0, [fp, #-16]
 160:../proyecto.c **** 
 161:../proyecto.c **** 	if (shooter != NULL ) {
 2992              		.loc 1 161 0
 2993 037c 10301BE5 		ldr	r3, [fp, #-16]
 2994 0380 000053E3 		cmp	r3, #0
 2995 0384 1100000A 		beq	.L29
 162:../proyecto.c **** 		shotCol = shooter->col + (ENEMY_WIDTH / 2);
 2996              		.loc 1 162 0
 2997 0388 10301BE5 		ldr	r3, [fp, #-16]
 2998 038c B430D3E1 		ldrh	r3, [r3, #4]
 2999 0390 0338A0E1 		mov	r3, r3, asl #16
 3000 0394 2338A0E1 		mov	r3, r3, lsr #16
 3001 0398 083083E2 		add	r3, r3, #8
 3002 039c B2314BE1 		strh	r3, [fp, #-18]	@ movhi
 163:../proyecto.c **** 		shotRow = shooter->row + ENEMY_HEIGHT;
 3003              		.loc 1 163 0
 3004 03a0 10301BE5 		ldr	r3, [fp, #-16]
 3005 03a4 B630D3E1 		ldrh	r3, [r3, #6]
 3006 03a8 0338A0E1 		mov	r3, r3, asl #16
 3007 03ac 2338A0E1 		mov	r3, r3, lsr #16
 3008 03b0 0A3083E2 		add	r3, r3, #10
 3009 03b4 B4314BE1 		strh	r3, [fp, #-20]	@ movhi
 164:../proyecto.c **** 
 165:../proyecto.c **** 		enemyShot_launch(&game.enemyShot, shotCol, shotRow);
 3010              		.loc 1 165 0
 3011 03b8 B2215BE1 		ldrh	r2, [fp, #-18]
 3012 03bc B4315BE1 		ldrh	r3, [fp, #-20]
 3013 03c0 18009FE5 		ldr	r0, .L31+4
 3014 03c4 0210A0E1 		mov	r1, r2
 3015 03c8 0320A0E1 		mov	r2, r3
 3016 03cc FEFFFFEB 		bl	enemyShot_launch
 3017              	.L29:
 166:../proyecto.c **** 	}
 167:../proyecto.c **** }
 3018              		.loc 1 167 0
 3019 03d0 0CD04BE2 		sub	sp, fp, #12
 3020 03d4 00689DE8 		ldmfd	sp, {fp, sp, lr}
 3021 03d8 1EFF2FE1 		bx	lr
 3022              	.L32:
 3023              		.align	2
 3024              	.L31:
 3025 03dc 7C000000 		.word	game+124
 3026 03e0 8C040000 		.word	game+1164
 3027              		.cfi_endproc
 3028              	.LFE7:
 3030              		.align	2
 3031              		.global	keys_read_task
 3033              	keys_read_task:
 3034              	.LFB8:
 168:../proyecto.c **** 
 169:../proyecto.c **** void keys_read_task(void) {
 3035              		.loc 1 169 0
 3036              		.cfi_startproc
 3037              		@ Function supports interworking.
 3038              		@ args = 0, pretend = 0, frame = 8
 3039              		@ frame_needed = 1, uses_anonymous_args = 0
 3040 03e4 0DC0A0E1 		mov	ip, sp
 3041              	.LCFI16:
 3042              		.cfi_def_cfa_register 12
 3043 03e8 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 3044 03ec 04B04CE2 		sub	fp, ip, #4
 3045              		.cfi_offset 14, -8
 3046              		.cfi_offset 13, -12
 3047              		.cfi_offset 11, -16
 3048              	.LCFI17:
 3049              		.cfi_def_cfa 11, 4
 3050 03f0 08D04DE2 		sub	sp, sp, #8
 170:../proyecto.c **** 	uint8 key;
 171:../proyecto.c **** 	key = keypad_scan();
 3051              		.loc 1 171 0
 3052 03f4 FEFFFFEB 		bl	keypad_scan
 3053 03f8 0030A0E1 		mov	r3, r0
 3054 03fc 0D304BE5 		strb	r3, [fp, #-13]
 172:../proyecto.c **** 
 173:../proyecto.c **** 	if (key == KEYPAD_KEY4) {
 3055              		.loc 1 173 0
 3056 0400 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 3057 0404 040053E3 		cmp	r3, #4
 3058 0408 0200001A 		bne	.L34
 174:../proyecto.c **** 		player_left(&game.player);
 3059              		.loc 1 174 0
 3060 040c 48009FE5 		ldr	r0, .L38
 3061 0410 FEFFFFEB 		bl	player_left
 3062 0414 040000EA 		b	.L35
 3063              	.L34:
 175:../proyecto.c **** 	} else if (key == KEYPAD_KEY6) {
 3064              		.loc 1 175 0
 3065 0418 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 3066 041c 060053E3 		cmp	r3, #6
 3067 0420 0100001A 		bne	.L35
 176:../proyecto.c **** 		player_right(&game.player);
 3068              		.loc 1 176 0
 3069 0424 30009FE5 		ldr	r0, .L38
 3070 0428 FEFFFFEB 		bl	player_right
 3071              	.L35:
 177:../proyecto.c **** 	}
 178:../proyecto.c **** 
 179:../proyecto.c **** 	if (key == KEYPAD_KEY5 || key == KEYPAD_KEYF) {
 3072              		.loc 1 179 0
 3073 042c 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 3074 0430 050053E3 		cmp	r3, #5
 3075 0434 0200000A 		beq	.L36
 3076              		.loc 1 179 0 is_stmt 0 discriminator 1
 3077 0438 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 3078 043c 0F0053E3 		cmp	r3, #15
 3079 0440 0200001A 		bne	.L33
 3080              	.L36:
 180:../proyecto.c **** 		playerShot_launch(&game.playerShot, &game.player);
 3081              		.loc 1 180 0 is_stmt 1
 3082 0444 14009FE5 		ldr	r0, .L38+4
 3083 0448 0C109FE5 		ldr	r1, .L38
 3084 044c FEFFFFEB 		bl	playerShot_launch
 3085              	.L33:
 181:../proyecto.c **** 	}
 182:../proyecto.c **** }
 3086              		.loc 1 182 0
 3087 0450 0CD04BE2 		sub	sp, fp, #12
 3088 0454 00689DE8 		ldmfd	sp, {fp, sp, lr}
 3089 0458 1EFF2FE1 		bx	lr
 3090              	.L39:
 3091              		.align	2
 3092              	.L38:
 3093 045c 28000000 		.word	game+40
 3094 0460 5C000000 		.word	game+92
 3095              		.cfi_endproc
 3096              	.LFE8:
 3098              		.align	2
 3099              		.global	pbs_read_task
 3101              	pbs_read_task:
 3102              	.LFB9:
 183:../proyecto.c **** 
 184:../proyecto.c **** void pbs_read_task(void) {
 3103              		.loc 1 184 0
 3104              		.cfi_startproc
 3105              		@ Function supports interworking.
 3106              		@ args = 0, pretend = 0, frame = 0
 3107              		@ frame_needed = 1, uses_anonymous_args = 0
 3108 0464 0DC0A0E1 		mov	ip, sp
 3109              	.LCFI18:
 3110              		.cfi_def_cfa_register 12
 3111 0468 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 3112 046c 04B04CE2 		sub	fp, ip, #4
 3113              		.cfi_offset 14, -8
 3114              		.cfi_offset 13, -12
 3115              		.cfi_offset 11, -16
 3116              	.LCFI19:
 3117              		.cfi_def_cfa 11, 4
 185:../proyecto.c **** 	static boolean init = TRUE;
 186:../proyecto.c **** 	static enum {
 187:../proyecto.c **** 		wait_keydown, scan, wait_keyup
 188:../proyecto.c **** 	} state;
 189:../proyecto.c **** 
 190:../proyecto.c **** 	if (init) {
 3118              		.loc 1 190 0
 3119 0470 D0309FE5 		ldr	r3, .L52
 3120 0474 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3121 0478 000053E3 		cmp	r3, #0
 3122 047c 0600000A 		beq	.L41
 191:../proyecto.c **** 		init = FALSE;
 3123              		.loc 1 191 0
 3124 0480 C0309FE5 		ldr	r3, .L52
 3125 0484 0020A0E3 		mov	r2, #0
 3126 0488 0020C3E5 		strb	r2, [r3, #0]
 192:../proyecto.c **** 		state = wait_keydown;
 3127              		.loc 1 192 0
 3128 048c B8309FE5 		ldr	r3, .L52+4
 3129 0490 0020A0E3 		mov	r2, #0
 3130 0494 0020C3E5 		strb	r2, [r3, #0]
 3131 0498 270000EA 		b	.L40
 3132              	.L41:
 193:../proyecto.c **** 	} else
 194:../proyecto.c **** 		switch (state) {
 3133              		.loc 1 194 0
 3134 049c A8309FE5 		ldr	r3, .L52+4
 3135 04a0 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3136 04a4 010053E3 		cmp	r3, #1
 3137 04a8 0B00000A 		beq	.L44
 3138 04ac 020053E3 		cmp	r3, #2
 3139 04b0 1400000A 		beq	.L45
 3140 04b4 000053E3 		cmp	r3, #0
 3141 04b8 1F00001A 		bne	.L40
 3142              	.L43:
 195:../proyecto.c **** 		case wait_keydown:
 196:../proyecto.c **** 			if (pb_pressed())
 3143              		.loc 1 196 0
 3144 04bc FEFFFFEB 		bl	pb_pressed
 3145 04c0 0030A0E1 		mov	r3, r0
 3146 04c4 000053E3 		cmp	r3, #0
 3147 04c8 1600000A 		beq	.L49
 197:../proyecto.c **** 				state = scan;
 3148              		.loc 1 197 0
 3149 04cc 78309FE5 		ldr	r3, .L52+4
 3150 04d0 0120A0E3 		mov	r2, #1
 3151 04d4 0020C3E5 		strb	r2, [r3, #0]
 198:../proyecto.c **** 			break;
 3152              		.loc 1 198 0
 3153 04d8 170000EA 		b	.L40
 3154              	.L44:
 199:../proyecto.c **** 		case scan:
 200:../proyecto.c **** 			if (pb_scan()) {
 3155              		.loc 1 200 0
 3156 04dc FEFFFFEB 		bl	pb_scan
 3157 04e0 0030A0E1 		mov	r3, r0
 3158 04e4 000053E3 		cmp	r3, #0
 3159 04e8 1000000A 		beq	.L50
 201:../proyecto.c **** 				credit_update(&game.credit, 1);
 3160              		.loc 1 201 0
 3161 04ec 5C009FE5 		ldr	r0, .L52+8
 3162 04f0 0110A0E3 		mov	r1, #1
 3163 04f4 FEFFFFEB 		bl	credit_update
 202:../proyecto.c **** 				state = wait_keyup;
 3164              		.loc 1 202 0
 3165 04f8 4C309FE5 		ldr	r3, .L52+4
 3166 04fc 0220A0E3 		mov	r2, #2
 3167 0500 0020C3E5 		strb	r2, [r3, #0]
 203:../proyecto.c **** 			}
 204:../proyecto.c **** 			break;
 3168              		.loc 1 204 0
 3169 0504 0C0000EA 		b	.L40
 3170              	.L45:
 205:../proyecto.c **** 		case wait_keyup:
 206:../proyecto.c **** 			if (!pb_pressed())
 3171              		.loc 1 206 0
 3172 0508 FEFFFFEB 		bl	pb_pressed
 3173 050c 0030A0E1 		mov	r3, r0
 3174 0510 000053E3 		cmp	r3, #0
 3175 0514 0700001A 		bne	.L51
 207:../proyecto.c **** 				state = wait_keydown;
 3176              		.loc 1 207 0
 3177 0518 2C309FE5 		ldr	r3, .L52+4
 3178 051c 0020A0E3 		mov	r2, #0
 3179 0520 0020C3E5 		strb	r2, [r3, #0]
 208:../proyecto.c **** 			break;
 3180              		.loc 1 208 0
 3181 0524 040000EA 		b	.L40
 3182              	.L49:
 198:../proyecto.c **** 			break;
 3183              		.loc 1 198 0
 3184 0528 0000A0E1 		mov	r0, r0	@ nop
 3185 052c 020000EA 		b	.L40
 3186              	.L50:
 204:../proyecto.c **** 			break;
 3187              		.loc 1 204 0
 3188 0530 0000A0E1 		mov	r0, r0	@ nop
 3189 0534 000000EA 		b	.L40
 3190              	.L51:
 3191              		.loc 1 208 0
 3192 0538 0000A0E1 		mov	r0, r0	@ nop
 3193              	.L40:
 209:../proyecto.c **** 		}
 210:../proyecto.c **** }
 3194              		.loc 1 210 0
 3195 053c 0CD04BE2 		sub	sp, fp, #12
 3196 0540 00689DE8 		ldmfd	sp, {fp, sp, lr}
 3197 0544 1EFF2FE1 		bx	lr
 3198              	.L53:
 3199              		.align	2
 3200              	.L52:
 3201 0548 00000000 		.word	init.4560
 3202 054c 00000000 		.word	state.4565
 3203 0550 CA040000 		.word	game+1226
 3204              		.cfi_endproc
 3205              	.LFE9:
 3207              		.section	.rodata
 3208              		.align	2
 3209              	.LC0:
 3210 0000 53504143 		.ascii	"SPACE INVADERS\000"
 3210      4520494E 
 3210      56414445 
 3210      525300
 3211 000f 00       		.align	2
 3212              	.LC1:
 3213 0010 496E7365 		.ascii	"Insert Coin (Pulsador)\000"
 3213      72742043 
 3213      6F696E20 
 3213      2850756C 
 3213      7361646F 
 3214 0027 00       		.align	2
 3215              	.LC2:
 3216 0028 43726564 		.ascii	"Creditos: \000"
 3216      69746F73 
 3216      3A2000
 3217 0033 00       		.align	2
 3218              	.LC3:
 3219 0034 50756C73 		.ascii	"Pulse Pulsador para Credito\000"
 3219      65205075 
 3219      6C736164 
 3219      6F722070 
 3219      61726120 
 3220              		.text
 3221              		.align	2
 3222              		.global	wellcomeScreen_draw
 3224              	wellcomeScreen_draw:
 3225              	.LFB10:
 211:../proyecto.c **** 
 212:../proyecto.c **** /*******************************************************************/
 213:../proyecto.c **** 
 214:../proyecto.c **** void wellcomeScreen_draw(void) {
 3226              		.loc 1 214 0
 3227              		.cfi_startproc
 3228              		@ Function supports interworking.
 3229              		@ args = 0, pretend = 0, frame = 0
 3230              		@ frame_needed = 1, uses_anonymous_args = 0
 3231 0554 0DC0A0E1 		mov	ip, sp
 3232              	.LCFI20:
 3233              		.cfi_def_cfa_register 12
 3234 0558 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 3235 055c 04B04CE2 		sub	fp, ip, #4
 3236              		.cfi_offset 14, -8
 3237              		.cfi_offset 13, -12
 3238              		.cfi_offset 11, -16
 3239              	.LCFI21:
 3240              		.cfi_def_cfa 11, 4
 215:../proyecto.c **** 	lcd_clear();
 3241              		.loc 1 215 0
 3242 0560 FEFFFFEB 		bl	lcd_clear
 216:../proyecto.c **** 	lcd_puts_x2(30, 16, BLACK, "SPACE INVADERS");
 3243              		.loc 1 216 0
 3244 0564 1E00A0E3 		mov	r0, #30
 3245 0568 1010A0E3 		mov	r1, #16
 3246 056c 0F20A0E3 		mov	r2, #15
 3247 0570 64309FE5 		ldr	r3, .L55
 3248 0574 FEFFFFEB 		bl	lcd_puts_x2
 217:../proyecto.c **** 	lcd_puts(48, 64, BLACK, "Insert Coin (Pulsador)");
 3249              		.loc 1 217 0
 3250 0578 3000A0E3 		mov	r0, #48
 3251 057c 4010A0E3 		mov	r1, #64
 3252 0580 0F20A0E3 		mov	r2, #15
 3253 0584 54309FE5 		ldr	r3, .L55+4
 3254 0588 FEFFFFEB 		bl	lcd_puts
 218:../proyecto.c **** 	lcd_puts(48, 80, BLACK, "Creditos: ");
 3255              		.loc 1 218 0
 3256 058c 3000A0E3 		mov	r0, #48
 3257 0590 5010A0E3 		mov	r1, #80
 3258 0594 0F20A0E3 		mov	r2, #15
 3259 0598 44309FE5 		ldr	r3, .L55+8
 3260 059c FEFFFFEB 		bl	lcd_puts
 219:../proyecto.c **** 	lcd_putint(120, 80, BLACK, game.credit.value);
 3261              		.loc 1 219 0
 3262 05a0 40209FE5 		ldr	r2, .L55+12
 3263 05a4 40309FE5 		ldr	r3, .L55+16
 3264 05a8 B33092E1 		ldrh	r3, [r2, r3]
 3265 05ac 7800A0E3 		mov	r0, #120
 3266 05b0 5010A0E3 		mov	r1, #80
 3267 05b4 0F20A0E3 		mov	r2, #15
 3268 05b8 FEFFFFEB 		bl	lcd_putint
 220:../proyecto.c **** 	lcd_puts(20, 192, BLACK, "Pulse Pulsador para Credito");
 3269              		.loc 1 220 0
 3270 05bc 1400A0E3 		mov	r0, #20
 3271 05c0 C010A0E3 		mov	r1, #192
 3272 05c4 0F20A0E3 		mov	r2, #15
 3273 05c8 20309FE5 		ldr	r3, .L55+20
 3274 05cc FEFFFFEB 		bl	lcd_puts
 221:../proyecto.c **** }
 3275              		.loc 1 221 0
 3276 05d0 0CD04BE2 		sub	sp, fp, #12
 3277 05d4 00689DE8 		ldmfd	sp, {fp, sp, lr}
 3278 05d8 1EFF2FE1 		bx	lr
 3279              	.L56:
 3280              		.align	2
 3281              	.L55:
 3282 05dc 00000000 		.word	.LC0
 3283 05e0 10000000 		.word	.LC1
 3284 05e4 28000000 		.word	.LC2
 3285 05e8 00000000 		.word	game
 3286 05ec CA040000 		.word	1226
 3287 05f0 34000000 		.word	.LC3
 3288              		.cfi_endproc
 3289              	.LFE10:
 3291              		.section	.rodata
 3292              		.align	2
 3293              	.LC4:
 3294 0050 47414D45 		.ascii	"GAME OVER\000"
 3294      204F5645 
 3294      5200
 3295 005a 0000     		.align	2
 3296              	.LC5:
 3297 005c 50756C73 		.ascii	"Pulse una tecla para reiniciar\000"
 3297      6520756E 
 3297      61207465 
 3297      636C6120 
 3297      70617261 
 3298 007b 00       		.text
 3299              		.align	2
 3300              		.global	gameOverScreen_draw
 3302              	gameOverScreen_draw:
 3303              	.LFB11:
 222:../proyecto.c **** 
 223:../proyecto.c **** void gameOverScreen_draw(void) {
 3304              		.loc 1 223 0
 3305              		.cfi_startproc
 3306              		@ Function supports interworking.
 3307              		@ args = 0, pretend = 0, frame = 0
 3308              		@ frame_needed = 1, uses_anonymous_args = 0
 3309 05f4 0DC0A0E1 		mov	ip, sp
 3310              	.LCFI22:
 3311              		.cfi_def_cfa_register 12
 3312 05f8 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 3313 05fc 04B04CE2 		sub	fp, ip, #4
 3314              		.cfi_offset 14, -8
 3315              		.cfi_offset 13, -12
 3316              		.cfi_offset 11, -16
 3317              	.LCFI23:
 3318              		.cfi_def_cfa 11, 4
 224:../proyecto.c **** 	lcd_clear();
 3319              		.loc 1 224 0
 3320 0600 FEFFFFEB 		bl	lcd_clear
 225:../proyecto.c **** 	lcd_puts_x2(40, 80, BLACK, "GAME OVER");
 3321              		.loc 1 225 0
 3322 0604 2800A0E3 		mov	r0, #40
 3323 0608 5010A0E3 		mov	r1, #80
 3324 060c 0F20A0E3 		mov	r2, #15
 3325 0610 34309FE5 		ldr	r3, .L59
 3326 0614 FEFFFFEB 		bl	lcd_puts_x2
 226:../proyecto.c **** 	lcd_puts(20, 192, BLACK, "Pulse una tecla para reiniciar");
 3327              		.loc 1 226 0
 3328 0618 1400A0E3 		mov	r0, #20
 3329 061c C010A0E3 		mov	r1, #192
 3330 0620 0F20A0E3 		mov	r2, #15
 3331 0624 24309FE5 		ldr	r3, .L59+4
 3332 0628 FEFFFFEB 		bl	lcd_puts
 227:../proyecto.c **** 	while (keypad_scan() == KEYPAD_FAILURE)
 3333              		.loc 1 227 0
 3334 062c 0000A0E1 		mov	r0, r0	@ nop
 3335              	.L58:
 3336              		.loc 1 227 0 is_stmt 0 discriminator 1
 3337 0630 FEFFFFEB 		bl	keypad_scan
 3338 0634 0030A0E1 		mov	r3, r0
 3339 0638 FF0053E3 		cmp	r3, #255
 3340 063c FBFFFF0A 		beq	.L58
 228:../proyecto.c **** 		; // Espera a pulsar tecla
 229:../proyecto.c **** }
 3341              		.loc 1 229 0 is_stmt 1
 3342 0640 0CD04BE2 		sub	sp, fp, #12
 3343 0644 00689DE8 		ldmfd	sp, {fp, sp, lr}
 3344 0648 1EFF2FE1 		bx	lr
 3345              	.L60:
 3346              		.align	2
 3347              	.L59:
 3348 064c 50000000 		.word	.LC4
 3349 0650 5C000000 		.word	.LC5
 3350              		.cfi_endproc
 3351              	.LFE11:
 3353              		.data
 3356              	init.4560:
 3357 0000 01       		.byte	1
 3358              		.bss
 3359              	state.4565:
 3360 0000 00       		.space	1
 3361              		.text
 3362              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 proyecto.c
                            *COM*:000004d0 game
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2521   .text:00000000 $a
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2524   .text:00000000 main
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3224   .text:00000554 wellcomeScreen_draw
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3302   .text:000005f4 gameOverScreen_draw
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2721   .text:000001f4 $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3033   .text:000003e4 keys_read_task
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3101   .text:00000464 pbs_read_task
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2743   .text:00000234 player_update_task
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2852   .text:000002b4 playerShot_update_task
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2896   .text:00000300 swarm_update_task
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2970   .text:00000360 enemyShot_launch_task
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2932   .text:0000032c enemyShot_update_task
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2777   .text:00000258 ufo_launch_task
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2818   .text:00000290 ufo_update_task
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2740   .text:00000234 $a
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2770   .text:00000254 $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2774   .text:00000258 $a
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2811   .text:0000028c $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2815   .text:00000290 $a
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2845   .text:000002b0 $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2849   .text:000002b4 $a
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2885   .text:000002ec $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2893   .text:00000300 $a
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2924   .text:00000324 $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2929   .text:0000032c $a
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2961   .text:00000354 $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:2967   .text:00000360 $a
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3025   .text:000003dc $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3030   .text:000003e4 $a
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3093   .text:0000045c $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3098   .text:00000464 $a
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3201   .text:00000548 $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3356   .data:00000000 init.4560
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3359   .bss:00000000 state.4565
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3208   .rodata:00000000 $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3221   .text:00000554 $a
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3282   .text:000005dc $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3299   .text:000005f4 $a
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3348   .text:0000064c $d
C:\Users\alber\AppData\Local\Temp\ccDA7ERf.s:3360   .bss:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
sys_init
segs_init
timers_init
keypad_init
pbs_init
lcd_init
iic_init
uda1341ts_init
lcd_on
random_init
game_init
scheduler_init
create_task
pb_pressed
credit_update
lcd_putint
lcd_clear
game_restart
game_launch
timer0_open_tick
dispacher
timer0_close
scheduler
player_update
random_get
ufo_launch
ufo_update
playerShot_update
swarm_update
enemyShot_update
swarm_getShooter
enemyShot_launch
keypad_scan
player_left
player_right
playerShot_launch
pb_scan
lcd_puts_x2
lcd_puts
